
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Bộ công cụ giúp chúng ta xây dựng, tái sử dụng và chia sẻ các pipeline MongoDB phức tạp một cách nhất quán">
      
      
      
        <link rel="canonical" href="https://google.com/documentation/operators/conditionalOperators.html">
      
      
        <link rel="prev" href="compareOperators.html">
      
      
        <link rel="next" href="objectOperators.html">
      
      
      <link rel="icon" href="../../assets/WebSite_Favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.3.2">
    
    
      
        <title>Conditional Operators - Red Aggregation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.30068a00.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#conditional-operators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Red Aggregation" class="md-header__button md-logo" aria-label="Red Aggregation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Red Aggregation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Conditional Operators
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Red Aggregation" class="md-nav__button md-logo" aria-label="Red Aggregation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Red Aggregation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lời mở đầu
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../Glossary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index Alphabetical
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../aggregation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aggregation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../aggregationUpdate.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AggregationUpdate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../systemVariables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/addFieldsOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AddFields Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/countOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Count Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/facetOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Facet Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/groupOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Group Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/limitOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limit Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/lookupOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lookup Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/matchOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Match Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/mergeOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Merge Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/projectionOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projection Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/replaceRootOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReplaceRoot Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/replaceWithOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReplaceWith Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/setOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/skipOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skip Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/sortByCountOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SortByCount Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/sortOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sort Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/unionWithOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UnionWith Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/unsetOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unset Operation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../operations/unwindOperation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unwind Operation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operators
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Operators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="accumulatorOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accumulator Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="arithmeticOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arithmetic Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="arrayOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Array Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="booleanOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boolean Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="compareOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compare Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Conditional Operators
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="conditionalOperators.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Conditional Operators
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#phuong-thuc" class="md-nav__link">
    Phương thức
  </a>
  
    <nav class="md-nav" aria-label="Phương thức">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conditionoperatorwhen" class="md-nav__link">
    ConditionOperator.when()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionoperatorswitchcases" class="md-nav__link">
    ConditionOperator.switchCases()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionoperatorifnull" class="md-nav__link">
    ConditionOperator.ifNull()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luu-y-su-dung" class="md-nav__link">
    Lưu ý sử dụng
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="objectOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Object Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="setOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="stringOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    String Operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="variableOperators.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variable Operators
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#phuong-thuc" class="md-nav__link">
    Phương thức
  </a>
  
    <nav class="md-nav" aria-label="Phương thức">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#conditionoperatorwhen" class="md-nav__link">
    ConditionOperator.when()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionoperatorswitchcases" class="md-nav__link">
    ConditionOperator.switchCases()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditionoperatorifnull" class="md-nav__link">
    ConditionOperator.ifNull()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#luu-y-su-dung" class="md-nav__link">
    Lưu ý sử dụng
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="conditional-operators">Conditional Operators<a class="headerlink" href="#conditional-operators" title="Permanent link">&para;</a></h1>
<p>Đối tượng <code>ConditionOperator</code> đại diện cho nhóm toán tử điều kiện, giúp bạn rẽ nhánh dữ liệu trong MongoDB Aggregation. Nó có các static method giúp bạn khởi tạo toán tử điều kiện như: <code>$cond</code>, <code>$ifNull</code>, <code>$switch</code> thay vì viết BSON thủ công. Các toán tử này sẽ nhận vào dữ liệu thuộc <code>AggregationExpression</code>, <code>field</code>, <code>literal</code> và sẽ trả ra instance của toán tử. Các instance này là một phần để có thể tạo dựng được stage trong MongoDB Aggregation.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;red-aggregation/operator/conditionalOperators/conditionOperators&#39;</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></div>
<h2 id="phuong-thuc">Phương thức<a class="headerlink" href="#phuong-thuc" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="/documentation/operators/conditionalOperators.html#conditionoperatorwhen">ConditionOperator.when()</a></li>
<li><a href="/documentation/operators/conditionalOperators.html#conditionoperatorswitchcases">ConditionOperator.switchCases()</a></li>
<li><a href="/documentation/operators/conditionalOperators.html#conditionoperatorifnull">ConditionOperator.ifNull()</a></li>
</ul>
<h3 id="conditionoperatorwhen">ConditionOperator.when()<a class="headerlink" href="#conditionoperatorwhen" title="Permanent link">&para;</a></h3>
<p>Khởi tạo builder <code>$cond</code> từ field, literal hoặc expression. Toán tử <code>$cond</code> được sử dụng để đánh
giá một biểu thức boolean để trả về một trong hai biểu thức trả về đã chỉ định.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Literal boolean</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">conditionOperator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;isActive&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">otherwise</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $cond: { if: &#39;$isActive&#39;, then: true, else: false } }</span>
</code></pre></div>
<p>Hoặc:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Field reference</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">condField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">thenValueOf</span><span class="p">(</span><span class="s1">&#39;maxScore&#39;</span><span class="p">)</span><span class="w">                   </span><span class="c1">// field reference</span>
<span class="w">  </span><span class="p">.</span><span class="nx">otherwise</span><span class="p">(</span><span class="nx">Fields</span><span class="p">.</span><span class="nx">field</span><span class="p">(</span><span class="s1">&#39;minScore&#39;</span><span class="p">))</span><span class="w">       </span><span class="c1">// Field object</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $cond: { if: &#39;$score&#39;, then: &#39;$maxScore&#39;, else: &#39;$minScore&#39; } }</span>
</code></pre></div>
<p>Hoặc:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Expression</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">condExpr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">when</span><span class="p">({</span><span class="w"> </span><span class="nx">$gte</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$age&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">18</span><span class="p">]</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="c1">// AggregationExpression</span>
<span class="w">  </span><span class="p">.</span><span class="nx">thenValueOf</span><span class="p">({</span><span class="w"> </span><span class="nx">$multiply</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$salary&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.1</span><span class="p">]</span><span class="w"> </span><span class="p">})</span><span class="w">                 </span><span class="c1">// expression as value</span>
<span class="w">  </span><span class="p">.</span><span class="nx">otherwise</span><span class="p">({</span><span class="w"> </span><span class="nx">$multiply</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$salary&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">]</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $cond: { </span>
<span class="c1">//      if: { $gte: [&#39;$age&#39;, 18] },</span>
<span class="c1">//      then: { $multiply: ... },</span>
<span class="c1">//      else: { $multiply: ... } </span>
<span class="c1">//    }}</span>
</code></pre></div>
<h3 id="conditionoperatorswitchcases">ConditionOperator.switchCases()<a class="headerlink" href="#conditionoperatorswitchcases" title="Permanent link">&para;</a></h3>
<p>Tạo <code>$switch</code> từ danh sách case. Toán tử <code>$switch</code> được sử đụng để đánh giá một loạt các biểu thức trường hợp.
Khi tìm thấy một biểu thức được đánh giá là đúng, <code>$switch</code> sẽ thực thi một biểu thức đã chỉ định và thoát ra khỏi luồng điều khiển.</p>
<p>Các đối tượng trong <code>branches</code> chỉ được chứa một trường <code>case</code> và một trường <code>then</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;red-aggregation/switch&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">caseA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="p">.</span><span class="nx">thenBuilder</span><span class="p">(</span><span class="nx">ComparisonOperation</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;$type&#39;</span><span class="p">).</span><span class="nx">equalToValue</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="s1">&#39;Tier A&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">caseB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="p">.</span><span class="nx">thenBuilder</span><span class="p">({</span><span class="w"> </span><span class="nx">$gte</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$score&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">80</span><span class="p">]</span><span class="w"> </span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="s1">&#39;Tier B&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">switchCases</span><span class="p">(</span><span class="nx">caseA</span><span class="p">,</span><span class="w"> </span><span class="nx">caseB</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">defaultTo</span><span class="p">(</span><span class="s1">&#39;Tier C&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; {</span>
<span class="c1">//   $switch: {</span>
<span class="c1">//     branches: [</span>
<span class="c1">//       { case: { $eq: [&#39;$type&#39;, &#39;A&#39;] }, then: &#39;Tier A&#39; },</span>
<span class="c1">//       { case: { $gte: [&#39;$score&#39;, 80] }, then: &#39;Tier B&#39; }</span>
<span class="c1">//     ],</span>
<span class="c1">//     default: &#39;Tier C&#39;</span>
<span class="c1">//   }</span>
<span class="c1">// }</span>
</code></pre></div>
<p>Hoặc:</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;red-aggregation/switch&#39;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">caseA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="p">.</span><span class="nx">thenBuilder</span><span class="p">(</span><span class="nx">ComparisonOperation</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;$type&#39;</span><span class="p">).</span><span class="nx">equalToValue</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="s1">&#39;Tier A&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">caseB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">CaseOperator</span><span class="p">.</span><span class="nx">thenBuilder</span><span class="p">({</span><span class="w"> </span><span class="nx">$gte</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$score&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">80</span><span class="p">]</span><span class="w"> </span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="s1">&#39;Tier B&#39;</span><span class="p">);</span>

<span class="kd">const</span><span class="w"> </span><span class="k">switch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">switchCases</span><span class="p">([</span><span class="nx">caseA</span><span class="p">,</span><span class="w"> </span><span class="nx">caseB</span><span class="p">])</span>
<span class="w">  </span><span class="p">.</span><span class="nx">defaultTo</span><span class="p">(</span><span class="s1">&#39;Tier C&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; {</span>
<span class="c1">//   $switch: {</span>
<span class="c1">//     branches: [</span>
<span class="c1">//       { case: { $eq: [&#39;$type&#39;, &#39;A&#39;] }, then: &#39;Tier A&#39; },</span>
<span class="c1">//       { case: { $gte: [&#39;$score&#39;, 80] }, then: &#39;Tier B&#39; }</span>
<span class="c1">//     ],</span>
<span class="c1">//     default: &#39;Tier C&#39;</span>
<span class="c1">//   }</span>
<span class="c1">// }</span>
</code></pre></div>
<h3 id="conditionoperatorifnull">ConditionOperator.ifNull()<a class="headerlink" href="#conditionoperatorifnull" title="Permanent link">&para;</a></h3>
<p>Tạo builder <code>$ifNull</code>. Toán tử <code>$ifNull</code> được sử dụng để đánh giá các biểu thức đầu vào cho các giá trị null và trả về:</p>
<ul>
<li>Đã tìm thấy giá trị biểu thức đầu vào không null đầu tiên.</li>
<li>Giá trị biểu thức thay thế nếu tất cả biểu thức đầu vào có giá trị rỗng.</li>
</ul>
<p><code>$ifNull</code> coi các giá trị không xác định và các trường bị thiếu là null.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">ifNull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">ifNull</span><span class="p">(</span><span class="s1">&#39;nickname&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $ifNull: [&#39;$nickname&#39;, &#39;N/A&#39;] }</span>
</code></pre></div>
<p>Hoặc:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">ifNullWithExpr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">ifNUll</span><span class="p">({</span><span class="w"> </span><span class="nx">$toString</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;$age&#39;</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nx">thenValueOf</span><span class="p">({</span><span class="w"> </span><span class="nx">$multiply</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;$weight&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">]</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $ifNull: [{ $toString: &#39;$age&#39; }, { $multiply: [&#39;$weight&#39;, 10] }] }</span>
</code></pre></div>
<p>Hoặc:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">ifNullChained</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ConditionOperator</span><span class="p">.</span><span class="nx">ifNUll</span><span class="p">(</span><span class="s1">&#39;primaryEmail&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// first condition</span>
<span class="w">  </span><span class="p">.</span><span class="nx">orIfNull</span><span class="p">(</span><span class="s1">&#39;secondaryEmail&#39;</span><span class="p">)</span><span class="w">                                  </span><span class="c1">// additional condition</span>
<span class="w">  </span><span class="p">.</span><span class="nx">thenValueOf</span><span class="p">(</span><span class="s1">&#39;backupEmail&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">toDocument</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
<span class="c1">// =&gt; { $ifNull: [&#39;$primaryEmail&#39;, &#39;$secondaryEmail&#39;, &#39;$backupEmail&#39;] }</span>
</code></pre></div>
<h3 id="luu-y-su-dung">Lưu ý sử dụng<a class="headerlink" href="#luu-y-su-dung" title="Permanent link">&para;</a></h3>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ©Copyright <script>document.write(new Date().getFullYear())</script> - Red Aggregation Team</a>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>